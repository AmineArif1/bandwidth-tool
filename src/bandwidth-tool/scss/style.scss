/*
Copyright 2020 DigitalOcean

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
*/

$header: #0071fe;
@import "~do-bulma/src/style";

.do-bulma {

  // Generic stacked bars
  .bars {
    .bar-stack {
      display: flex;
      flex-direction: row;
      flex-wrap: nowrap;
      overflow: hidden;

      &:first-child {
        border-top-left-radius: $border-radius;
        border-top-right-radius: $border-radius;

        .bar {
          &:first-child {
            border-top-left-radius: $border-radius;
          }

          &:last-child {
            border-top-right-radius: $border-radius;
          }
        }
      }

      &:last-child {
        border-bottom-left-radius: $border-radius;
        border-bottom-right-radius: $border-radius;

        .bar {
          &:first-child {
            border-bottom-left-radius: $border-radius;
          }

          &:last-child {
            border-bottom-right-radius: $border-radius;
          }
        }
      }

      .bar {
        border-radius: 0;

        &.has-shadow {
          &:not(:first-child) {
            box-shadow: rgba(0, 0, 0, .4) -4px 0 8px;
          }
        }
      }
    }
  }

  // Generic tiny button
  .button {
    &.is-tiny {
      height: $height * .45;
      line-height: $height * .45;
      padding: 0 ($margin / 2);
    }
  }

  .header {
    .container {
      > div {
        flex-grow: 1;
        margin: 0;
      }
    }
  }

  .bandwidth {
    margin: 0;
    text-align: left;

    .stats {
      align-items: center;
      display: flex;
      flex-direction: row;
      margin-top: 1rem;

      .data {
        flex-basis: 55%;
        padding-right: 1.5rem;

        p {
          margin: 0;

          span,
          b {
            font-size: $font-size * 1.1;
          }
        }

        .allowance {
          b {
            color: $primary;
          }
        }

        .consumption {
          b {
            color: $dark-blue;
          }
        }
      }

      .info {
        flex-basis: 45%;
        padding-left: 1.5rem;

        p {
          color: $muted;
          font-size: $font-size * .8;
          text-align: right;
        }

        a {
          white-space: nowrap;
        }
      }
    }
  }

  .panel-list {
    &.panel-list-vertical {
      .panel {
        .info {
          display: flex;
          flex-direction: column;
          margin: .2rem 1rem 0 .2rem;

          .primary-info,
          .secondary-info {
            align-items: center;
            display: flex;
            flex-direction: row;

            p {
              margin: 0;

              + p {
                margin-left: .4rem;
              }
            }
          }

          .secondary-info {
            margin-top: .25rem;

            p {
              color: $text-secondary;
              font-size: $font-size * .8;

              + p {
                margin-left: .15rem;

                &::before {
                  content: "/ ";
                }
              }
            }
          }
        }

        .tertiary-info {
          align-items: center;
          display: flex;
          flex-direction: column;
          justify-content: center;
          margin: 0 2.5rem;

          p {
            margin: 0;
          }
        }

        .input-container {
          display: flex;
          flex-direction: column;
          margin: 0 .5rem;
          width: auto;

          .control {
            display: inline-block;
            position: relative;

            input {
              height: $height * .6;
              margin: 0;
              padding: 0 ($margin / 2);
              width: $height * 2.5;
            }

            .suffix {
              color: $text-secondary;
              line-height: 1;
              pointer-events: none;
              position: absolute;
              right: $margin * 1.5;
              top: ($height * .6 - $font-size) / 2;
            }

            i {
              position: initial;
            }
          }

          .label {
            @include sailec-regular;

            color: $muted;
            font-size: $font-size * .7;
            line-height: 1;

            &:not(:first-child) {
              margin-top: .25rem;
            }

            &:not(:last-child) {
              margin-bottom: .25rem;
            }
          }
        }

        .button {
          &.is-danger {
            @include sailec-medium;

            border-radius: $border-radius;
            height: $height * .75;
            line-height: $height * .75;
            margin: 0 0 0 1rem;
          }
        }
      }
    }
  }

  .tabs {
    &.picker {
      margin: 0;
    }
  }

  .panel {
    transition: opacity .2s ease-in-out, background .2s ease-in-out;

    &.unfocused-droplet {
      background: darken($background, 5%);
      opacity: .8;
    }
  }

  .bars {
    .bar-stack {
      .bar {
        transition: width .2s ease-in-out, opacity .2s ease-in-out;

        &.unfocused-droplet {
          opacity: .4;
        }
      }
    }
  }
}
